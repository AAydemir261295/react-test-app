import{v as w,a as c,o as e,w as C}from"./chunk-NL6KNZEE-9bHJ3GrR.js";import{u as R,a as L}from"./react-redux-DqYJlJaY.js";import{u as S,s as y}from"./imageReducer-BK-gFa0E.js";import"./redux-toolkit.modern-mrJGRRDt.js";const l={upload:"/assets/icons/upload-icon.svg",refresh:"/assets/icons/refresh-icon.svg"};function U(){var n=R(),f=w(),a=L(s=>s.images),[d,_]=c.useState(a.uploadCount),[p,g]=c.useState([l[a.icons[0]],l[a.icons[1]],l[a.icons[2]]]),h=["Дом, дерево, человек","Несуществующее животное","Автопортрет"],m=[],r=c.useRef([]);function x(s,t,o){if(s.target.files){var v=s.target.files[0],i=new FileReader;i.readAsDataURL(v),i.onloadend=function($){o.src=i.result==null?"":i.result;let u={};u[t]="refresh";const N=p.map((b,I)=>I==t?l.refresh:b);g(N),n(S(u)),_(d+1)}}}function j(){n(y({0:r.current[0].src,1:r.current[1].src,2:r.current[2].src}))}for(let s=0;s<3;s++){const t=h[s];m.push(e.jsx("li",{className:"upload-list__item",children:e.jsxs("figure",{className:"upload-list__upload-wrapper",children:[e.jsx("div",{className:"upload-list__preview-fit",children:e.jsx("img",{ref:o=>{r.current[s]=o},className:"upload-list__upload-preview",src:a.images[s],alt:""})}),e.jsx("label",{className:"upload-list__input-label",htmlFor:`fileInput${s}`,children:e.jsx("img",{src:p[s],className:"upload-list__upload-icon",alt:`Загрузите фотографию: ${t}`})}),e.jsx("input",{onChange:o=>x(o,s,r.current[s]),className:"upload-list__upload-input",id:`fileInput${s}`,type:"file"}),e.jsx("figcaption",{className:"upload-list__upload-description",children:t})]})},s))}return e.jsxs("div",{className:"image-loader",children:[e.jsxs("header",{className:"image-loader__header",children:[e.jsx("h1",{className:"image-loader__header-title",children:"Загрузите фотографии рисунков"}),e.jsxs("div",{className:"image-loader__header-info-container",children:[e.jsx("img",{className:"image-loader__header-info-icon",alt:""}),e.jsx("p",{className:"image-loader__header-info-text",children:"Допустимые форматы файлов: jpg, jpeg, png, pdf. Размер не более 5 Мб"})]})]}),e.jsx("form",{className:"image-loader__form",children:e.jsx("ul",{className:"nostyle-list upload-list",children:m})}),e.jsx("footer",{className:"image-loader__footer form-footer",children:e.jsxs("div",{className:"form-footer__image-wrapp",children:[e.jsx("span",{className:"form-footer__stage",children:"Шаг 1/3"}),e.jsx("button",{className:"form-footer__btn form-footer__btn-next btn btn--next btn--disabled nostyle-btn",onClick:()=>{d>=3&&(f("/testing/2",{state:{previous:"/testing/1"}}),j())},children:"Далее"})]})})]})}const q=C(function(){return e.jsx(U,{})});export{q as default};
