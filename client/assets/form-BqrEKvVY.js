import{a as p,o as e,v as w,w as D}from"./chunk-NL6KNZEE-9bHJ3GrR.js";import{u as C,a as b}from"./react-redux-DqYJlJaY.js";import{u as F,s as M}from"./formReducer-BLmsWyhR.js";import"./redux-toolkit.modern-mrJGRRDt.js";function q(m){var x=C(),j=b(c=>c.form);const[l,n]=p.useState(new Date(j.date));var d=[];function u(){var c=l.toLocaleString("ru-RU",{month:"long"}),t=c.charAt(0);return t.toUpperCase()+c.slice(1,c.length)}function N(){n(new Date(l.setMonth(l.getMonth()-1)))}function v(){n(new Date(l.setMonth(l.getMonth()+1)))}function i(c){x(F(c.getTime()))}function f(){let c=l.getFullYear(),t=l.getMonth(),s=new Date(l.getFullYear(),l.getMonth(),0).getDay(),o=new Date(l.getFullYear(),l.getMonth()+1,0).getDate(),a=new Date(l.getFullYear(),l.getMonth(),o).getDay();for(let r=s;r>0;r--)d.push(e.jsx("li",{className:"calendar__day"},r+" "+r));for(let r=1;r<=o;r++){let h=r===l.getDate()&&t===new Date().getMonth()&&c===new Date().getFullYear(),_=new Date(c,t,r);h?d.push(e.jsx("li",{className:"calendar__day calendar__day--today",onClick:()=>{i(_)},children:r},r)):d.push(e.jsx("li",{className:"calendar__day calendar__day--hoverable",onClick:()=>{i(_)},children:r},r))}for(let r=a;r<7;r++)d.push(e.jsx("li",{className:"calendar__day"},r+" "+r+" "+r))}return f(),e.jsxs("div",{className:`calendar ${m.showCalendar}`,children:[e.jsxs("header",{className:"calendar__header",children:[e.jsx("img",{className:"calendar__header-left",onClick:()=>{N()},alt:""}),e.jsxs("div",{className:"calendar__header-month-year-wrapp",children:[e.jsx("h3",{className:"calendar__header-month",children:u()}),e.jsx("h3",{className:"calendar__header-year",children:l.getFullYear()})]}),e.jsx("img",{className:"calendar__header-right",onClick:()=>{v()},alt:""})]}),e.jsxs("ul",{className:"calendar__days-names nostyle-list",children:[e.jsx("li",{className:"calendar__days-names-item",children:e.jsx("span",{children:"пн"})}),e.jsx("li",{className:"calendar__days-names-item",children:e.jsx("span",{children:"вт"})}),e.jsx("li",{className:"calendar__days-names-item",children:e.jsx("span",{children:"ср"})}),e.jsx("li",{className:"calendar__days-names-item",children:e.jsx("span",{children:"чт"})}),e.jsx("li",{className:"calendar__days-names-item",children:e.jsx("span",{children:"пт"})}),e.jsx("li",{className:"calendar__days-names-item",children:e.jsx("span",{children:"сб"})}),e.jsx("li",{className:"calendar__days-names-item",children:e.jsx("span",{children:"вс"})})]}),e.jsx("ul",{className:"calendar__days nostyle-list",children:d}),e.jsx("div",{})]})}const k=[{header:"Раздел 1. Эмоциональная сфера",questions:["Ребенок часто выражает радость и удовольствие","Ребенок часто выражает радость и удовольствие","Ребенок часто грустит или плачет без видимой причин","Ребенок часто грустит или плачет без видимой причин"],names:["radosti","grusti"]},{header:"Раздел 2. Социальное взаимодействие",questions:["Ребенок легко заводит друзей","Ребенок легко заводит друзей","Ребенок предпочитает играть один, а не с другими детьми","Ребенок предпочитает играть один, а не с другими детьми"],names:["friends","alone"]},{header:"Раздел 3. Саморегуляция и поведение",questions:["Ребенок умеет следовать правилам и инструкциям","Ребенок умеет следовать правилам и инструкциям","Ребенку трудно контролировать свои импульсы","Ребенку трудно контролировать свои импульсы"],names:["free","dangerous"]},{header:"Раздел 4. Самооценка и уверенность в себе",questions:["Ребенок уверен с своих силах и способностях","Ребенок уверен с своих силах и способностях","Ребенок часто сомневается в себе","Ребенок часто сомневается в себе"],names:["confidence","uncertainty"]}];function S(){var m=w(),x=C(),[j,l]=p.useState("calendar--invisible"),n=b(t=>t.form);b(t=>t.images.uploadCount);var d=p.useRef(null),u=new Map;p.useEffect(()=>{var t=document.querySelector(".calendar"),s=document.querySelector(".form__date-input");document.addEventListener("click",o=>{var a;(!(t!=null&&t.contains(o.target))&&o.target!=s||(a=o.target)!=null&&a.classList.contains("calendar__day"))&&l("calendar--invisible")})});function N(){l("")}function v(t){if(t){let r=t.entries(),h=new Map;for(const _ of r){let y=_[0],g=_[1];if(y=="date"){var s=g.split("."),o=new Date(parseInt(s[2]),parseInt(s[1]),parseInt(s[0])).getTime();h.set(y,o)}else g=="on"||h.set(y,{value:g})}var a=new Map([...h,...u]);x(M(Object.fromEntries(a.entries())))}}function i(t){var s=t.target,o=s.id;s.value;var a=s.name;u.set(a,{value:o})}var f=[];function c(){for(let t=0;t<k.length;t++){const s=k[t];f.push(e.jsxs("li",{children:[e.jsx("header",{className:"form__chapter",children:e.jsx("h5",{className:"form__chapter-text",children:s.header})}),s.questions.map((o,a)=>e.jsxs("fieldset",{className:"four-fieldset form__radios nostyle-fieldset",children:[e.jsx("legend",{className:"four-fieldset__legend",children:o}),e.jsxs("div",{className:"four-fieldset__question",children:[e.jsx("div",{children:e.jsxs("label",{className:"radio-container",children:[e.jsx("input",{defaultChecked:a>1?n[s.names[1]+a].value=="very-rare":n[s.names[0]+a].value=="very-rare",onChange:i,className:"radio-container__input",type:"radio",id:"very-rare",name:a>1?s.names[1]+a:s.names[0]+a}),e.jsx("span",{className:"radio-container__checkmark"}),e.jsx("span",{className:"radio-container__text",children:"Очень редко"})]})}),e.jsx("div",{children:e.jsxs("label",{className:"radio-container",children:[e.jsx("input",{defaultChecked:a>1?n[s.names[1]+a].value=="rare":n[s.names[0]+a].value=="rare",onChange:i,className:"radio-container__input",type:"radio",id:"rare",name:a>1?s.names[1]+a:s.names[0]+a}),e.jsx("span",{className:"radio-container__checkmark"}),e.jsx("span",{className:"radio-container__text",children:"Редко"})]})}),e.jsx("div",{children:e.jsxs("label",{className:"radio-container",children:[e.jsx("input",{defaultChecked:a>1?n[s.names[1]+a].value=="sometimes":n[s.names[0]+a].value=="sometimes",onChange:i,className:"radio-container__input",type:"radio",id:"sometimes",name:a>1?s.names[1]+a:s.names[0]+a}),e.jsx("span",{className:"radio-container__checkmark"}),e.jsx("span",{className:"radio-container__text",children:"Иногда"})]})}),e.jsx("div",{children:e.jsxs("label",{className:"radio-container",children:[e.jsx("input",{defaultChecked:a>1?n[s.names[1]+a].value=="often":n[s.names[0]+a].value=="often",onChange:i,className:"radio-container__input",type:"radio",id:"often",name:a>1?s.names[1]+a:s.names[0]+a}),e.jsx("span",{className:"radio-container__checkmark"}),e.jsx("span",{className:"radio-container__text",children:"Часто"})]})}),e.jsx("div",{children:e.jsxs("label",{className:"radio-container",children:[e.jsx("input",{defaultChecked:a>1?n[s.names[1]+a].value=="always":n[s.names[0]+a].value=="always",onChange:i,className:"radio-container__input",type:"radio",id:"always",name:a>1?s.names[1]+a:s.names[0]+a}),e.jsx("span",{className:"radio-container__checkmark"}),e.jsx("span",{className:"radio-container__text",children:"Всегда"})]})})]})]},a))]},t))}}return c(),e.jsxs("div",{className:"form",children:[e.jsx("header",{className:"form__header",children:e.jsx("h3",{className:"form__header-text",children:"Общая информация о ребенке"})}),e.jsxs("form",{ref:d,children:[e.jsxs("div",{className:"form__child-name-container",children:[e.jsx("label",{className:"form__child-name-label",htmlFor:"child-name",children:"Имя ребенка"}),e.jsx("input",{className:"nostyle-input input",type:"text",id:"child-name",name:"child-name",defaultValue:n["child-name"].value})]}),e.jsxs("div",{className:"form__date-input-container",children:[e.jsx("label",{className:"form__date-input-label",children:"Дата рождения ребенка"}),e.jsx("input",{className:"form__date-input nostyle-input input",value:new Date(n.date).toLocaleDateString("RU",{day:"2-digit",month:"2-digit",year:"numeric"}),name:"date",type:"text",onClick:()=>N(),readOnly:!0}),e.jsx(q,{className:"form__date-input-calendar",showCalendar:j})]}),e.jsxs("fieldset",{className:"form__child-sex-container nostyle-fieldset",children:[e.jsx("legend",{className:"form__child-sex-legend",children:"Пол ребенка"}),e.jsxs("div",{className:"form__child-sex-radios",children:[e.jsx("div",{children:e.jsxs("label",{className:"radio-container",children:[e.jsx("input",{defaultChecked:n.sex.value=="man",onChange:i,className:"radio-container__input",type:"radio",id:"man",name:"sex"}),e.jsx("span",{className:"radio-container__checkmark"}),e.jsx("span",{className:"radio-container__text",children:"Мужской"})]})}),e.jsx("div",{children:e.jsxs("label",{className:"radio-container",children:[e.jsx("input",{defaultChecked:n.sex.value=="woman",onChange:i,className:"radio-container__input",type:"radio",id:"woman",name:"sex"}),e.jsx("span",{className:"radio-container__checkmark"}),e.jsx("span",{className:"radio-container__text",children:"Женский"})]})})]})]}),e.jsxs("div",{className:"form__parent-name-container",children:[e.jsx("label",{className:"form__parent-name-label",htmlFor:"parent-name",children:"Имя родителя, заполняющего анкету"}),e.jsx("input",{defaultValue:n["parent-name"].value,className:"form__parent-name-input input",type:"text",id:"parent-name",name:"parent-name"})]}),e.jsxs("div",{className:"form__notice-container",children:[e.jsx("p",{className:"form__notice-first-paragraph",children:"Пожалуйста, внимательно прочитайте каждый вопрос и выберите наиболее подходящий вариант ответа, отражающий поведение и эмоциональное состояние вашего ребенка в течение последних 2-4 недель. Отвечайте максимально честно и искренне, так как от этого зависит точность оценки психоэмоционального развития Вашего ребенка."}),e.jsx("p",{className:"form__notice-second-paragraph",children:"Все вопросы обязательны к заполнению"})]}),e.jsxs("ul",{className:"form__questions nostyle-list",children:[f,e.jsxs("li",{children:[e.jsx("header",{className:"form__chapter",children:e.jsx("h5",{className:"form__chapter-text",children:"Раздел 5. Общие вопросы"})}),e.jsxs("fieldset",{className:"four-fieldset form__radios-last nostyle-fieldset",children:[e.jsx("legend",{className:"four-fieldset__legend",children:"Как вы оцениваете общее эмоциональное состояние вашего ребенка?"}),e.jsxs("div",{className:"four-fieldset__question-last",children:[e.jsx("div",{className:"four-fieldset__wrapp",children:e.jsxs("label",{className:"radio-container",children:[e.jsx("input",{defaultChecked:n["child-emotions"].value=="very-rare",onChange:i,className:"radio-container__input",type:"radio",id:"very-rare",name:"child-emotions"}),e.jsx("span",{className:"radio-container__checkmark"}),e.jsx("span",{className:"radio-container__text",children:"Отличное"})]})}),e.jsx("div",{className:"four-fieldset__wrapp",children:e.jsxs("label",{className:"radio-container",children:[e.jsx("input",{defaultChecked:n["child-emotions"].value=="rare",onChange:i,className:"radio-container__input",type:"radio",id:"rare",name:"child-emotions"}),e.jsx("span",{className:"radio-container__checkmark"}),e.jsx("span",{className:"radio-container__text",children:"Хорошее"})]})}),e.jsx("div",{className:"four-fieldset__wrapp",children:e.jsxs("label",{className:"radio-container",children:[e.jsx("input",{defaultChecked:n["child-emotions"].value=="sometimes",onChange:i,className:"radio-container__input",type:"radio",id:"sometimes",name:"child-emotions"}),e.jsx("span",{className:"radio-container__checkmark"}),e.jsx("span",{className:"radio-container__text",children:"Удовлетворительное"})]})}),e.jsx("div",{className:"four-fieldset__wrapp",children:e.jsxs("label",{className:"radio-container",children:[e.jsx("input",{defaultChecked:n["child-emotions"].value=="often",onChange:i,className:"radio-container__input",type:"radio",id:"often",name:"child-emotions"}),e.jsx("span",{className:"radio-container__checkmark"}),e.jsx("span",{className:"radio-container__text",children:"Неудовлетворительное"})]})}),e.jsx("div",{className:"four-fieldset__wrapp",children:e.jsxs("label",{className:"radio-container",children:[e.jsx("input",{defaultChecked:n["child-emotions"].value=="always",onChange:i,className:"radio-container__input",type:"radio",id:"always",name:"child-emotions"}),e.jsx("span",{className:"radio-container__checkmark"}),e.jsx("span",{className:"radio-container__text",children:"Очень плохое"})]})})]})]}),e.jsxs("fieldset",{className:"four-fieldset form__textareas nostyle-fieldset",children:[e.jsxs("div",{className:"four-fieldset__textarea-container",children:[e.jsx("label",{className:"four-fieldset__textarea-label",htmlFor:"more",children:"Есть ли у вашего ребенка какие-либо особенности развития или поведения о которых Вы хотели бы сообщить дополнительно?"}),e.jsx("textarea",{defaultValue:n.peculiarities.value,className:"textarea",name:"peculiarities",id:"more"})]}),e.jsxs("div",{className:"four-fieldset__textarea-container",children:[e.jsx("label",{className:"four-fieldset__textarea-label",htmlFor:"powers",children:"Какие, на Ваш взгляд, сильные стороны и таланты есть у Вашего ребенка?"}),e.jsx("textarea",{defaultValue:n.talents.value,className:"textarea",name:"talents",id:"powers"})]}),e.jsxs("div",{className:"four-fieldset__textarea-container",children:[e.jsx("label",{className:"four-fieldset__textarea-label",htmlFor:"attention",children:"Какие, на Ваш взгляд, области требуют особого внимания и развития у Вашего ребенка?"}),e.jsx("textarea",{defaultValue:n.attention.value,className:"textarea",name:"attention",id:"attention"})]}),e.jsxs("div",{className:"four-fieldset__textarea-container",children:[e.jsx("label",{className:"four-fieldset__textarea-label",children:"Обращались ли Вы ранее к специалистам (психологу, неврологу, логопеду) по поводу развития или поведения Вашего ребенка?"}),e.jsx("textarea",{defaultValue:n.psy.value,className:"textarea",name:"psy",id:"doctors"})]})]})]})]})]}),e.jsx("footer",{className:"form-footer",children:e.jsxs("div",{className:"form-footer__form-wrapp",children:[e.jsx("span",{className:"form-footer__stage form-footer__form-stage",children:"Шаг 2/3"}),e.jsxs("div",{className:"form-footer__form-btns",children:[e.jsx("button",{className:"form-footer__btn form-footer__btn-previous btn btn--previous btn-smooth nostyle-btn",onClick:t=>{m("/testing/1",{state:{previous:"/testing/2"}})},children:"К загрузке рисунков"}),e.jsx("button",{className:"form-footer__btn form-footer__btn-result btn btn--result btn--disabled nostyle-btn",onClick:t=>{v(new FormData(d.current)),m("/result")},children:"Узнать результаты"})]})]})})]})}const I=D(function(){return e.jsx(S,{})});export{I as default};
